@* Reusable star rating input component with hover effects and accessibility *@

<div class="star-rating-input @CssClass" role="radiogroup" aria-label="Star rating">
    @for (int i = 1; i <= 5; i++)
    {
        var starNumber = i; // Capture for closure
        var isSelected = starNumber <= CurrentValue;
        var isHovered = starNumber <= HoveredValue;
        var starClass = GetStarClass(starNumber, isSelected, isHovered);

        <button type="button"
                class="star-button @starClass"
                @onclick="() => OnStarClick(starNumber)"
                @onmouseenter="() => OnStarHover(starNumber)"
                @onmouseleave="OnStarLeave"
                @onfocus="() => OnStarHover(starNumber)"
                @onblur="OnStarLeave"
                aria-pressed="@isSelected.ToString().ToLower()"
                aria-label="@GetStarAriaLabel(starNumber)"
                disabled="@IsDisabled"
                title="@GetStarTitle(starNumber)">
            <i class="bi bi-star-fill"></i>
        </button>
    }

    @if (ShowLabel && CurrentValue > 0)
    {
        <span class="rating-label ms-2 @LabelCssClass">
            @GetRatingLabel()
        </span>
    }
</div>