@page "/"
@using Microsoft.AspNetCore.Authorization
@using TargetBrowse.Services.Interfaces
@inject IMessageCenterService MessageCenterService

<PageTitle>YouTube Video Tracker</PageTitle>

<AuthorizeView>
    <Authorized>
        <div class="home-background">
            <!-- Content can be overlaid here if needed in the future -->
        </div>
    </Authorized>
    <NotAuthorized>
        <h1>YouTube Video Tracker</h1>
        <p class="lead">Take control of your YouTube content discovery with personalized curation and AI-powered insights.</p>

        <div class="row mt-4">
            <div class="col-md-8">
                <h3>Features</h3>
                <ul class="list-unstyled">
                    <li class="mb-2">üìã <strong>Topic-Based Discovery:</strong> Define your learning interests and get relevant suggestions</li>
                    <li class="mb-2">üì∫ <strong>Channel Tracking:</strong> Follow up to 50 YouTube channels for new content</li>
                    <li class="mb-2">‚≠ê <strong>Smart Ratings:</strong> Rate content to improve future recommendations</li>
                    <li class="mb-2">ü§ñ <strong>AI Summaries:</strong> Get concise video summaries to make informed viewing decisions</li>
                    <li class="mb-2">üéØ <strong>Personalized Suggestions:</strong> Discover content that matches your interests</li>
                    <li class="mb-2">üîç <strong>Video Search & Library:</strong> Search, save, and organize videos for focused consumption</li>
                </ul>

                <div class="mt-4">
                    <a href="Account/Register" class="btn btn-primary btn-lg me-3">Get Started</a>
                    <a href="Account/Login" class="btn btn-outline-secondary">Sign In</a>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Why Choose Us?</h5>
                        <p class="card-text">Unlike YouTube's algorithm, you maintain full control over your content discovery through explicit preferences and intelligent curation.</p>
                    </div>
                </div>
            </div>
        </div>
    </NotAuthorized>
</AuthorizeView>

@code {
    // Show message demo section for development/testing
    // Remove this in production or make it admin-only
    private bool showMessageDemo = true;

    private async Task ShowSuccessMessage()
    {
        await MessageCenterService.ShowSuccessAsync("Operation completed successfully! Your changes have been saved.");
    }

    private async Task ShowErrorMessage()
    {
        await MessageCenterService.ShowErrorAsync("Unable to connect to YouTube API. Please check your internet connection and try again.");
    }

    private async Task ShowWarningMessage()
    {
        await MessageCenterService.ShowWarningAsync("You have reached 8 out of 10 topics. Consider removing unused topics before adding new ones.");
    }

    private async Task ShowInfoMessage()
    {
        await MessageCenterService.ShowInfoAsync("Your account setup is complete. You can now start tracking channels and requesting suggestions.");
    }

    private async Task ShowApiLimitMessage()
    {
        await MessageCenterService.ShowApiLimitAsync("YouTube Data API", DateTime.UtcNow.AddHours(2));
    }
}
